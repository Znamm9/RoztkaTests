# Use the latest 2.1 version of CircleCI pipeline process engine.
# See: https://circleci.com/docs/configuration-reference
version: 2.1

# Define a job to be invoked later in a workflow.
# See: https://circleci.com/docs/configuration-reference/#jobs
executors:
  default-executor:
    docker:
      - image: maven:3.9.5-amazoncorretto-11-debian

jobs:
  build:
    executor: default-executor
    steps:
      - checkout  # Check out your source code
      - run: apt-get update
      - run: apt-get install -y wget
      - run: wget -q https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
      - run: apt-get install -y ./google-chrome-stable_current_amd64.deb
      - run: apt-get install -y xvfb --fix-missing
      - run: mvn test